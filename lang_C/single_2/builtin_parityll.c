#include <assert.h>

static int __attribute__((noinline)) parityll(unsigned long long x)
{
	return __builtin_parityll(x);
}

int main(void)
{
#define ASSERTPARITYLL(val, result) \
	assert(__builtin_parityll(val) == result); \
	assert(parityll(val) == result);

	ASSERTPARITYLL(0x0000000000000000ULL, 0);
	ASSERTPARITYLL(0x0000000000000001ULL, 1);
	ASSERTPARITYLL(0x0000000000003000ULL, 0);
	ASSERTPARITYLL(0x0000000000000031ULL, 1);
	ASSERTPARITYLL(0x0000000000002222ULL, 0);
	ASSERTPARITYLL(0x0000000000001055ULL, 1);
	ASSERTPARITYLL(0x0000000000006116ULL, 0);
	ASSERTPARITYLL(0x0000000000007107ULL, 1);
	ASSERTPARITYLL(0x0000000000008778ULL, 0);
	ASSERTPARITYLL(0x0000000000007999ULL, 1);
	ASSERTPARITYLL(0x000000000000FFA0ULL, 0);
	ASSERTPARITYLL(0x0000000000007FCCULL, 1);
	ASSERTPARITYLL(0x000000000000CFFCULL, 0);
	ASSERTPARITYLL(0x0000000000007CFFULL, 1);
	ASSERTPARITYLL(0x0000000000007FFEULL, 0);
	ASSERTPARITYLL(0x000000000000F7FFULL, 1);
	ASSERTPARITYLL(0x000000000000FFFFULL, 0);
	ASSERTPARITYLL(0x00000000FFFF0000ULL, 0);
	ASSERTPARITYLL(0x00000000FFFF0001ULL, 1);
	ASSERTPARITYLL(0x00000000FFFF3000ULL, 0);
	ASSERTPARITYLL(0x00000000FFFF0031ULL, 1);
	ASSERTPARITYLL(0x00000000FFFF2222ULL, 0);
	ASSERTPARITYLL(0x00000000FFFF1055ULL, 1);
	ASSERTPARITYLL(0x00000000FFFF6116ULL, 0);
	ASSERTPARITYLL(0x00000000FFFF7107ULL, 1);
	ASSERTPARITYLL(0x00000000FFFF8778ULL, 0);
	ASSERTPARITYLL(0x000000007999FFFFULL, 1);
	ASSERTPARITYLL(0x00000000FFA0FFFFULL, 0);
	ASSERTPARITYLL(0x000000007FCCFFFFULL, 1);
	ASSERTPARITYLL(0x00000000CFFCFFFFULL, 0);
	ASSERTPARITYLL(0x000000007CFFFFFFULL, 1);
	ASSERTPARITYLL(0x000000007FFEFFFFULL, 0);
	ASSERTPARITYLL(0x00000000F7FFFFFFULL, 1);
	ASSERTPARITYLL(0x00000000FFFFFFFFULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF0001ULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFF3000ULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF0031ULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFF2222ULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF1055ULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFF6116ULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF7107ULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFF8778ULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF7999ULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFFFFA0ULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF7FCCULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFFCFFCULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFF7CFFULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFF7FFEULL, 0);
	ASSERTPARITYLL(0xFFFF0000FFFFF7FFULL, 1);
	ASSERTPARITYLL(0xFFFF0000FFFFFFFFULL, 0);
	ASSERTPARITYLL(0xFFFFFFFF0000FFFFULL, 0);
	ASSERTPARITYLL(0xFFFFFFFF0001FFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFFF3000FFFFULL, 0);
	ASSERTPARITYLL(0xFFFFFFFF0031FFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFFF2222FFFFULL, 0);
	ASSERTPARITYLL(0xFFFFFFFF1055FFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFFF6116FFFFULL, 0);
	ASSERTPARITYLL(0xFFFFFFFF7107FFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFFF8778FFFFULL, 0);
	ASSERTPARITYLL(0xFFFF7999FFFFFFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFA0FFFFFFFFULL, 0);
	ASSERTPARITYLL(0xFFFF7FCCFFFFFFFFULL, 1);
	ASSERTPARITYLL(0xFFFFCFFCFFFFFFFFULL, 0);
	ASSERTPARITYLL(0xFFFF7CFFFFFFFFFFULL, 1);
	ASSERTPARITYLL(0xFFFF7FFEFFFFFFFFULL, 0);
	ASSERTPARITYLL(0xFFFFF7FFFFFFFFFFULL, 1);
	ASSERTPARITYLL(0xFFFFFFFFFFFFFFFFULL, 0);
	ASSERTPARITYLL((unsigned long long)-1LL, 0);
	ASSERTPARITYLL((unsigned long long)-2LL, 1);
	return 0;
}
